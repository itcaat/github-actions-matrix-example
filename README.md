# üîó URL Shortener - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ü—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ **Go** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Kafka**, **Redis** –∏ **MongoDB**.

> üìñ **–ù–æ–≤–∏—á–æ–∫?** –ù–∞—á–Ω–∏—Ç–µ —Å [QUICKSTART.md](./QUICKSTART.md) - –∑–∞ 3 –º–∏–Ω—É—Ç—ã –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã!

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

1. **api-gateway** (Go)
   - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
   - –ü–æ—Ä—Ç: `3000`

2. **shortener-service** (Go + Redis)
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö URL
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –≤ Redis
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤
   - –ü–æ—Ä—Ç: `3001`

3. **redirect-service** (Go + Redis + Kafka Producer)
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–∏–º URL
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ URL –∏–∑ Redis
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–ª–∏–∫–æ–≤ –≤ Kafka
   - –ü–æ—Ä—Ç: `3002`

4. **analytics-service** (Go + MongoDB + Kafka Consumer)
   - –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑ Kafka
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ MongoDB
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ API –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ü–æ—Ä—Ç: `3003`

5. **frontend** (HTML + Nginx)
   - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
   - –ü–æ—Ä—Ç: `8080`

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Redis** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ URL –º–∞–ø–ø–∏–Ω–≥–∞ (in-memory)
- **MongoDB** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- **Kafka** + **Zookeeper** - —à–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **Jaeger** - distributed tracing –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

‚úÖ **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é  
‚úÖ **Event-Driven Architecture** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Kafka  
‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ—é –ë–î  
‚úÖ **API Gateway –ø–∞—Ç—Ç–µ—Ä–Ω** - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞  
‚úÖ **Service Discovery** - —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Ö–æ–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ Docker DNS  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ  
‚úÖ **Fault Tolerance** - –ø–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ —Ä–æ–Ω—è–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É  
‚úÖ **Distributed Tracing** - Jaeger + OpenTelemetry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤  
‚úÖ **Shared Libraries** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`pkg/tracing`)  
‚úÖ **CI/CD** - GitHub Actions —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤  
‚úÖ **Multi-Platform** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ AMD64 –∏ ARM64 (Apple Silicon, Intel, ARM —Å–µ—Ä–≤–µ—Ä—ã)  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

### –ó–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Make (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make help

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make up-build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å git hooks (–∞–≤—Ç–æ–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ID issue)
make hook

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make health

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
make test

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
make logs
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Docker Compose

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d --build
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:8080
2. –í–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π URL –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—É—é —Å—Å—ã–ª–∫—É
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
5. **üîç –û—Ç–∫—Ä–æ–π—Ç–µ Jaeger UI:** http://localhost:16686 - –æ—Ç—Å–ª–µ–¥–∏—Ç–µ –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã!

### API Endpoints

#### API Gateway (http://localhost:3000)

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π URL
curl -X POST http://localhost:3000/api/shorten \
  -H "Content-Type: application/json" \
  -d '{"url": "https://example.com"}'

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–¥–∞
curl http://localhost:3000/api/stats/{shortCode}

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl http://localhost:3000/api/stats

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–∞—Ö
curl http://localhost:3000/api/info
```

#### Redirect Service (http://localhost:3002)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É URL (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
curl -L http://localhost:3002/{shortCode}
```

## üìä –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∫–æ—Ä–æ—Ç–∫–∏–π URL:
   User ‚Üí api-gateway ‚Üí shortener-service ‚Üí Redis

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É URL:
   User ‚Üí redirect-service ‚Üí Redis (–ø–æ–ª—É—á–∏—Ç—å URL)
                          ‚Üì
                        Kafka (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞)
                          ‚Üì
                    analytics-service ‚Üí MongoDB

3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
   User ‚Üí api-gateway ‚Üí analytics-service ‚Üí MongoDB
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|-----------|------------|--------|
| Backend | Go | 1.21 |
| API Gateway | Gorilla Mux, CORS | Latest |
| Message Broker | Apache Kafka | 7.5.0 |
| Coordination | Apache Zookeeper | 7.5.0 |
| Cache / Storage | Redis | 7 Alpine |
| Database | MongoDB | 7 |
| Distributed Tracing | Jaeger | 1.52 |
| Frontend | HTML, CSS, JavaScript | - |
| Web Server | Nginx | Alpine |
| Containerization | Docker, Docker Compose | Latest |

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[QUICKSTART.md](./QUICKSTART.md)** ‚≠ê - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 –º–∏–Ω—É—Ç—ã
- **[ARCHITECTURE.md](./ARCHITECTURE.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã
- **[CI_CD.md](./CI_CD.md)** üöÄ - GitHub Actions —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π
- **[MULTIPLATFORM.md](./MULTIPLATFORM.md)** üåê - Multi-platform builds (AMD64 + ARM64)
- **[JAEGER_GUIDE.md](./JAEGER_GUIDE.md)** üîç - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Distributed Tracing
- **[OPENTELEMETRY_EXAMPLE.md](./OPENTELEMETRY_EXAMPLE.md)** üîß - –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è OpenTelemetry
- **[Makefile](./Makefile)** - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º
- **[docker-compose.yml](./docker-compose.yml)** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ üìÑ README.md                     # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ QUICKSTART.md                 # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 –º–∏–Ω—É—Ç—ã
‚îú‚îÄ‚îÄ üìÑ ARCHITECTURE.md               # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ üìÑ CI_CD.md                      # üÜï GitHub Actions workflows
‚îú‚îÄ‚îÄ üìÑ PROJECT_OVERVIEW.md           # –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml            # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ üìù Makefile                      # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ üîß .gitignore                    # Git ignore
‚îú‚îÄ‚îÄ üîß .dockerignore                 # Docker ignore
‚îÇ
‚îú‚îÄ‚îÄ üìÅ .github/                      # üÜï GitHub Actions
‚îÇ   ‚îî‚îÄ‚îÄ workflows/                   # CI/CD workflows
‚îÇ       ‚îú‚îÄ‚îÄ build-pr.yml             # –°–±–æ—Ä–∫–∞ PR —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ build-main.yml           # –°–±–æ—Ä–∫–∞ main –ø–æ—Å–ª–µ –º–µ—Ä–∂–∞
‚îÇ       ‚îî‚îÄ‚îÄ build-all.yml            # –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ üìÅ .git-hooks/                   # üÜï Git hooks
‚îÇ   ‚îú‚îÄ‚îÄ prepare-commit-msg           # –ê–≤—Ç–æ–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ID issue –≤ –∫–æ–º–º–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è git hooks

‚îú‚îÄ‚îÄ üìÅ api-gateway/                  # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: API Gateway
‚îÇ   ‚îú‚îÄ‚îÄ main.go                      # Go –∫–æ–¥ (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ go.mod                       # Go dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Multi-stage build
‚îÇ
‚îú‚îÄ‚îÄ üìÅ shortener-service/            # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö URL
‚îÇ   ‚îú‚îÄ‚îÄ main.go                      # Go –∫–æ–¥ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è + Redis)
‚îÇ   ‚îú‚îÄ‚îÄ go.mod                       # Go dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Multi-stage build
‚îÇ
‚îú‚îÄ‚îÄ üìÅ redirect-service/             # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.go                      # Go –∫–æ–¥ (Redis + Kafka Producer)
‚îÇ   ‚îú‚îÄ‚îÄ go.mod                       # Go dependencies  
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Multi-stage build
‚îÇ
‚îú‚îÄ‚îÄ üìÅ analytics-service/            # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ main.go                      # Go –∫–æ–¥ (MongoDB + Kafka Consumer)
‚îÇ   ‚îú‚îÄ‚îÄ go.mod                       # Go dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Multi-stage build
‚îÇ
‚îú‚îÄ‚îÄ üìÅ frontend/                     # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ index.html                   # HTML + CSS + JS
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Nginx —Å–µ—Ä–≤–µ—Ä
‚îÇ
‚îú‚îÄ‚îÄ üìÅ pkg/                          # –û–±—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ tracing/                     # OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥
‚îÇ       ‚îú‚îÄ‚îÄ tracing.go               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Jaeger
‚îÇ       ‚îî‚îÄ‚îÄ go.mod                   # Go dependencies
‚îÇ
‚îî‚îÄ‚îÄ üìÅ scripts/                      # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
    ‚îî‚îÄ‚îÄ test-system.sh               # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# API Gateway
curl http://localhost:3000/health

# Shortener Service
curl http://localhost:3001/health

# Redirect Service
curl http://localhost:3002/health

# Analytics Service
curl http://localhost:3003/health
```

### –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π URL
RESPONSE=$(curl -s -X POST http://localhost:3000/api/shorten \
  -H "Content-Type: application/json" \
  -d '{"url": "https://github.com"}')

echo $RESPONSE
# {"shortCode":"abc123","shortUrl":"http://localhost:3002/abc123","originalUrl":"https://github.com"}

# 2. –ò–∑–≤–ª–µ—á—å shortCode
SHORT_CODE=$(echo $RESPONSE | jq -r '.shortCode')

# 3. –ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
curl -L http://localhost:3002/$SHORT_CODE
curl -L http://localhost:3002/$SHORT_CODE
curl -L http://localhost:3002/$SHORT_CODE

# 4. –ü–æ–¥–æ–∂–¥–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ (Kafka –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
sleep 2

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl http://localhost:3000/api/stats/$SHORT_CODE
# {"shortCode":"abc123","totalClicks":3,"lastClick":"2024-..."}
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f api-gateway
docker-compose logs -f redirect-service
docker-compose logs -f analytics-service
```

### Kafka —Ç–æ–ø–∏–∫–∏

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Kafka –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker exec -it url-shortener-kafka bash

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–æ–ø–∏–∫–µ
kafka-console-consumer --bootstrap-server localhost:9092 \
  --topic url-clicks --from-beginning
```

### MongoDB

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MongoDB
docker exec -it url-shortener-mongodb mongosh

use analytics
db.clicks.find().pretty()
db.clicks.count()
```

### Redis

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis
docker exec -it url-shortener-redis redis-cli

KEYS url:*
GET url:abc123
```

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Make

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make down

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volumes
make clean

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make restart
```

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (–æ—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ)
docker-compose down -v
```

## üî• –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Make

```bash
# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å analytics-service –¥–æ 3 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
make scale-analytics
```

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ analytics-service
docker-compose up -d --scale analytics-service=3

# Kafka –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –º–µ–∂–¥—É consumer'–∞–º–∏ –≤ –≥—Ä—É–ø–ø–µ
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- **API Gateway** - –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å, –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞ load balancer
- **Shortener Service** - stateless, –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
- **Redirect Service** - stateless, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ
- **Analytics Service** - Kafka Consumer Group –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏

## üí° –ò–¥–µ–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- [ ] **–î–æ–±–∞–≤–∏—Ç—å OpenTelemetry –∫–æ–¥** - —Å–º. [OPENTELEMETRY_EXAMPLE.md](./OPENTELEMETRY_EXAMPLE.md)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (JWT)
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å TTL –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö URL
- [ ] –î–æ–±–∞–≤–∏—Ç—å custom aliases
- [ ] –î–æ–±–∞–≤–∏—Ç—å QR –∫–æ–¥—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å Prometheus + Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å CI/CD —Å GitHub Actions
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (unit, integration, e2e)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
